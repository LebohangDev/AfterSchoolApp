<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./CSS/style.css">
    <title>After School App</title>
     <!-- External icon libraries -->
     <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    
</head>
<body>

    
   
   
    <!--Mounting-->
    <div id="app">
      
        <header class="header" v-if="currentSection !== 'Checkout'">
            <div class="nav">
                <nav>
                    <div class="links">
                        <a href="#" v-on:click="changeSection('Home')">Home</a>
                        <a href="#About"  v-on:click="changeSection('Home')">About</a>
                        <a href="#Contact" v-on:Click="changeSection('Contact')">Contact</a>
                        <a href="#" v-on:Click="changeSection('Activities')">Activities</a>

                    </div>
                    <div class="title">
                        <h1><span>J</span>AZKA</h1>
                    </div>
                 
        
                    <div class="Icons">
                        <div class="Search">
                           
                            <div class="searchIcon">
                                <i class="ri-search-line"></i>
            
                            </div>
                             <input type="text" id="search"  placeholder="Search activity or location">
                        </div>
                        <div class="Cart">
                            <a href="#" v-on:Click="changeSection('Checkout')" v-if="cartCount >=1"><i class="ri-shopping-cart-2-line"></i></a>
                            <a href="#" v-else  v-on:Click="showAlert()"><i class="ri-shopping-cart-2-line"></i></a>
                            <span v-if="cartCount > 0">
                                <div class="cartCount">{{cartCount}}</div>
                            </span>

                        </div>
                       
                        
                      
                    </div>
                </nav>
            </div>
        
        </header>
        

        <div class="Content">
            <!--Background-->
           

           <div class="Home"   v-if="currentSection === 'Home'">
                <div class="item">
                    <img src="./Images/Background/torii-gate-alone-mountain-scenery-digital-art-4k-wallpaper-uhdpaper.com-84@2@b.jpg" alt="">
                </div>

                <div class="title">
                    <h1>JAZKA</h1>
                    <h2>ACTIVITIES</h2>
                    <p>YOUR GO TO PLACE FOR AFTER SCHOOL ACTIVITES</p>
                    <div class="button">
                        <button v-on:click="changeSection('Activities')">GO EXPLORE</button>
                    </div>
                    
                </div>

                <div class="promo">
                    <p>Get 20% off first time orders</p>
                </div>

                <div class="GridShowcase">
                    <div class="showcase">
                        <div class="heading">
                            <div class="Ptitle">
                                <h1>POPULAR ACTIVITES</h1>
                               
                               
                                
                            </div>
    
                            <div class="showcase-Buttons">
                                <div class="left-button">
                                    <i class="ri-arrow-left-circle-fill"></i>
    
                                </div>
                                <div class="right-button">
                                    <i class="ri-arrow-right-circle-fill"></i>
                                </div>
    
                            </div>
    
                        </div>
                        
                        <div  class="Top-Products">
                            <div class="product"  v-for="(Activity, index)  in Activities" :key="index" v-if="Activity.isPopular ? true : null">
                               
                                <div class="Content">
                                    <div class="PopularTag">
                                        <h1>MOST POPULAR</h1>

                                    </div>
                                    <div class="PopularImg">
                                        <img v-bind:src="Activity.img" alt="">
        
                                    </div>
                                    <div class="txt-content">
                                        <div class="PopularName">
                                            <h1>{{Activity.name}}</h1>
            
                                        </div>
                                        <div class="PopularLocation">
                                            <h1>{{Activity.location}}</h1>
                                        </div>
                                        <div class="PopularPrice">
                                            <button id="More"> SEE MORE </button>
                                            <button id="price" v-on:click="addToCart(Activity.id)" v-if="canAddToCart(Activity)"><i class="ri-shopping-cart-2-line"></i> {{Activity.price}}</button>
                                            <button disabled="disabled" class="DisabledPrice" v-else ><i class="ri-shopping-cart-2-line"></i> {{Activity.price}}</button>
                                           
                                        </div>
        
    
                                    </div>
                                   
                                </div>
                             
    
                              
                                
    
                            </div>
    
            
                            
    
                        </div>
    
                    </div>

                    <div class="Mission" >
                        <div class="img">
                            <img src="/Images/logo.png" alt="">
                        </div>
                        <div class="MTitle" id="About">
                            <h1>LEARN ABOUT <span>JAZKA</span>ACTIVITIES</h1>

                        </div>
                        <div class="description">
                            <p>JAZKA, a leading provider of after-school programs in Japan, offers a diverse range of activities designed to support the holistic development of students. Through their comprehensive bukatsu offerings, JAZKA allows students to explore various interests, from popular sports like baseball and soccer to enriching cultural experiences such as calligraphy, tea ceremonies, and music.</p>
                        </div>

                        <div class="Stats">
                            <div class="Stat1">
                                <h1>STUDENTS</h1>
                                <p>1000+</p>
                            </div>
                            <div class="Stat2">
                                <h1>ACTIVITIES</h1>
                                <p>15+</p>
                            </div>
                            <div class="Stat3">
                                <h1>RATED</h1>
                                <p>#1 BEST SERVICE</p>
                            </div>
                        </div>
                        
                    </div>

                    <div class="News">
                        <div class="NTitle">
                            <H1>GET OUR</H1>
                            <H2>LATEST NEWS</H2>
                        </div>
                        <div class="email_input">
                            <input type="email" placeholder=" Email Address">
                            <button type="submit">Email Address</button>
                        </div>
                        <div class="quick_links">
                            <a href="#">Home</a>
                            <a href="#">Contact</a>
                            <a href="#" v-on:Click="changeSection('Activities')">Activities</a>
                        </div>

                        <div class="Social-logos">
                            <i class="ri-instagram-fill"></i>
                            <i class="ri-facebook-fill"></i>
                            <i class="ri-twitter-x-line"></i>


                        </div>

                    </div>

                   


                </div>
                

               


                
                
            
            </div>

           
            <div class="About" v-if="currentSection === 'About'">


            </div>

           
            <div class="Contact" v-if="currentSection === 'Contact'">

            
            </div>

           
            <div class="Activities" v-if="currentSection === 'Activities'">

                <div class="item">
                    <img src="/Images/torii-shrine-gate-scenery-sunset-horizon-uhdpaper.com-4K-132.jpg" alt="">
                </div>

                <div class="ActivityHeader">
                    <h1>All Activities</h1>
                    <div class="sorting">
                        <select v-model="Filter.sort">
                            <option disabled value="">Filter Activites</option>
                            <option v-for="(sort, key) in sorts"
                            v-bind:value="sort">{{key}}</option>


                        </select>
                        
                    </div>
                </div>

                <div class="ActivityContainer">
                    <div class="product" v-for="(Activity, index) in Activities" :id="index">
                        <div class="Content">
                            <div class="PopularTag" v-if="Activity.isPopular === true">
                                <h1>MOST POPULAR</h1>

                            </div>
                           
                            <div class="PopularImg">
                                <img v-bind:src="Activity.img" alt="">

                            </div>
                            <div class="txt-content">
                                <div class="PopularName">
                                    <h1>{{Activity.name}}</h1>
    
                                </div>
                                <div class="PopularLocation">
                                    <h1>{{Activity.location}}</h1>
                                </div>
                                <div class="PopularPrice">
                                    <button id="More"> SEE MORE </button>
                                    <button id="price" v-on:click="addToCart(Activity.id)" v-if="canAddToCart(Activity)"><i class="ri-shopping-cart-2-line"></i> {{Activity.price}}</button>
                                    <button disabled="disabled" class="DisabledPrice" v-else ><i class="ri-shopping-cart-2-line"></i> {{Activity.price}}</button>
                                   
                                </div>


                            </div>
                           
                        </div>



                    </div>
                </div>

                


            
            </div>




            <div class="Checkout" v-if="currentSection === 'Checkout'">
                <div class="item">
                    <img src="/Images/torii-shrine-gate-scenery-sunset-horizon-uhdpaper.com-4K-132.jpg" alt="">
                </div>
               

                <div class="info">
                   
                    <div class="form">
                        <div class="logos">
                            <div class="return">
                                <a href="#Home" v-on:Click="changeSection('Home')"><i class="ri-arrow-left-circle-fill"></i></a>
                            </div>
                            <i class="ri-visa-line"></i>
                            <i class="ri-mastercard-fill"></i>
                            <i class="ri-paypal-fill"></i>
                            
                        </div>
                        <div class="CTitle">
                            <h1>Shopping <span>Cart</span></h1>
                          

        
                        </div>
                        <form action="">
                            <div class="txtfield">
                                
                                <input type="text" id="first_Name" v-model="order.FirstName" placeholder="First Name" required>
                            </div>
                            <div class="txtfield">
                               
                                <input type="text" v-model="order.LastName"  placeholder="Last Name" required>
                            </div>
                            <div class="txtfield">
                              
                                <input type="email" v-model="order.Email"  placeholder="Email Address" required>
                            </div>
                            <div class="txtfield">
                               
                                <input type="tel" v-model="order.Phone "  placeholder="Phone Number" required>
                            </div>
                            
                        </form>
                    </div>
                    <div class="outputfield">
                        <div class="OutputTitle">
                            <h1>Order Summary</h1>
                        </div>
                        <div class="OutputValues">
                            <p>First name : {{order.FirstName}}</p>
                            <p>Last name : {{order.LastName}}</p>
                            <p>Email Address : {{order.Email}}</p>
                            <p>Phone Number : {{order.Phone}}</p>
                            <p>TOTAL PRICE : </p>

                        </div>
                        <div class="SubmitButton">
                            <button type="submit" v-on:click="placeOrder()">Place Order</button>
                        </div>
                        
                       


                    </div>

                </div>

                <div class="cart">
                    <div class="CartHeader">
                        <h1>Your Cart</h1>
                        <p>Remove all</p>
                    </div>
                    <div class="CartHeader2">
                        <p> items: {{cartCount}}</p>
                       
                    </div>
                    <div class="itemContainer">
                        <div class="Items" v-for="(Cart, index) in cartData" :key="index">
                            <div class="itemName">
                                <h1>{{Cart.name}}</h1>
                                
    
                            </div>
                            <div class="Item">
                                <div class="itemLocation">
                                    <div class="imgContainer">
                                        <img v-bind:src="Cart.img" alt="">
                                    </div>
                                    <p>{{Cart.location}}</p>
                                    <i class="ri-close-circle-fill" v-on:Click="removeItem(index)"></i>
    
    
                                </div>
                               
                                   
                                <div class="itemPrice">
                                    <p>{{Cart.price}}</p>
                                </div>

                            </div>
                           
                        </div>

                    </div>
                    <div class="payments">
                        <div class="paymentTotal">
                            <p>TOTAL</p>
                            <p>{{totalPrice}}</p>


                        </div>
                        <div class="paymentButtons">
                            <button id="Card"><i class="ri-bank-card-line"></i> CREDIT/DEBIT Card</button>
                            <button id="PayPal"><span>Pay</span>Pal</button>
                        </div>
                    </div>
                   

                       
                       

                    </div>
                   
                </div>


            
            </div>

        </div>
       

        



       
        
    



    </div>
   
    
   

    <script src="./JS/Activities.js">
        var Activities = new Vue({
            el: '#app',
            data: {
                Activities: Activities
            }
        })
    </script>
        
    



    <script type="text/javascript">
        
        // vue instance
        var app = new Vue({
            el: '#app', // dom mounting point
            data: {
                currentSection: 'Home', // intially setting current location to Home section
                sitename: 'JAZKA',
                Activities: Activities,

                order:{
                    FirstName:'',
                    LastName: '',
                    Email: '',
                    Phone: '',
                     
                   

                },
                sorts:{
                    Default: 'Default',
                    Location: 'Location',
                    Subject: 'Subject',
                    Spaces: "Spaces",
                    Price: 'Price',
                },
                cartData: [], // cart array to contain items added to the cart
                Filter: '',
                

            

                
            },

            methods: {
                // function to change sections
                changeSection:function(section){
                    this.currentSection = section; // setting currentsection to the section passed when the function is called
                },
                // function to add activites into cart
                // passing the Activity.id in the addToCart function 
                addToCart:function(ActivityID){
                    // creating a variable to store selecteditem using the .find method
                    let selectedItem = this.Activities.find( item => item.id === ActivityID) // find the acticity with the same id as the passed activityID
                    console.log(selectedItem)
                     // if activity is there push item to cart array
                    if(selectedItem){
                        this.cartData.push(selectedItem);
                        console.log("cart items:", this.cartData);

                    }
               
                },
                // passing the index of item to remove
                removeItem:function(index){
                    // using splice function to remove item from cartData
                    this.cartData.splice(index, 1);



                },

                placeOrder:function(){
                    // calling the function to get the order details
                    alert("Order placed succesfully");
                },

                // get it fixed ask on monday
                cartItemCount:function(id){
                    let count = 0;

                    for(let i = 0;  i < this.cartData.length; i++){
                        if(this.cartData[i].id === id){
                            count++
                        }
                    }
                    return count;
                

                },
                

                canAddToCart:function(Activity){
                    console.log("the can add to cart activty:", Activity)
                    return Activity.space > this.cartItemCount(Activity.id);
                },
                showAlert:function(){
                    alert("Add an Item Into the Cart First!");
                }
            },
            // for reactive values that are re-evaluted when their depnedencies change
            computed: {
                cartCount:function(){
                    // return cart array count or nothing

                    return this.cartData.length || ''
                    

                }
               
              
        
                

            }

        })
    </script>
   
   
    
</body>
</html>